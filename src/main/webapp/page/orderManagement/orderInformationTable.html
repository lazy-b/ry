<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>订单信息管理</title>
    <link  rel="stylesheet" href="../../common/easyUI/themes/default/easyui.css" />
    <link  rel="stylesheet" href="../../common/easyUI/demo/demo.css" />
    <link  rel="stylesheet" href="../../common/easyUI/themes/myIcon.css" />
    <link  rel="stylesheet" href="../../css/reset.css" >
    <link  rel="stylesheet" href="../../css/info-orderForm.css" >
    <link  rel="stylesheet" href="../../common/css/datePicker.css" />
</head>

<body>
    <table id="datagrid"></table><!-- 数据表格占位 -->
    <div id="toolbar"><!-- 数据菜单栏 -->
        <a href="javascript:;" iconCls="icon-add" plain="true" class="easyui-linkbutton">添加行</a>
        <a href="javascript:;" iconCls="icon-remove" plain="true"  class="easyui-linkbutton">删除选中行</a>
        <a href="javascript:;" iconCls="icon-edit" plain="true"  class="easyui-linkbutton">修改行</a>
        <a href="javascript:;" iconCls="icon-reload" plain="true"  class="easyui-linkbutton">重新加载表格</a>
        <a href="javascript:;" iconCls="icon-more" plain="true"  class="easyui-linkbutton">查看详情</a>
        <!-- 先设置id为before，然后通过js修改为searchBox，防止页面加载时直接绑定搜索处理函数 -->
        <div id="searchBox">
            <input  class="easyui-searchbox" data-options="prompt:'请输入',menu:'#selectList'">
            <div id="selectList">
                <div data-options="name:'orderNo'">订单号</div>
                <div data-options="name:'productName'">产品名称</div>
            </div>
        </div>
    </div>
    <div id="dlg" class="easyui-dialog lazy-orderInfo" closed="true" buttons="#dlg-buttons"><!-- 新增数据窗口开始 -->
        <div class="ftitle" id="ftitle"></div>
        <form id="fm" method="post"><!-- 表单开始 -->
            <div class="fitem">
                <label >订单号：</label>
                <input name="orderNo" required validType="lazzyOrderNo" missingMessage="此处必须填写" class="easyui-validatebox">
            </div>
            <div class="fitem">
                <label >产品名称：</label>
                <input name="productName" required missingMessage="此处必须填写" class="easyui-validatebox">
            </div>
            <div class="fitem">
                <label >下单日期：</label>
                <input type="text" name="orderDate" required missingMessage="此处必须填写" class="easyui-validatebox lazy-datePicker">
            </div>
            <div class="fitem">
                <label >要求交货日期：</label>
                <input type="text" name="requiredDate" required missingMessage="此处必须填写" class="easyui-validatebox lazy-datePicker">
            </div>
            <div class="fitem">
                <label >交期：</label>
                <input type="text" name="replyDate" class="easyui-validatebox lazy-datePicker">
            </div>
            <div class="fitem">
                <label >物料长编号：</label>
                <input type="text" name="materialCoding" required validType="lazzyMaterialCoding" missingMessage="此处必须填写" class="easyui-validatebox">
            </div>
            <div class="fitem">
                <label >规格型号：</label>
                <input type="text" name="materialModel" required missingMessage="此处必须填写" class="easyui-validatebox">
            </div>
            <div class="fitem">
                <label >数量：</label>
                <input name="orderAmount" required validType="lazzyNumber[1,6]" missingMessage="此处必须填写" class="easyui-validatebox" >
            </div>
            <div class="fitem">
                <label >库存：</label>
                <input name="stockAmount" required validType="lazzyNumber[1,6]" missingMessage="此处必须填写，没有可以填零" class="easyui-validatebox">
            </div>
            <div class="fitem">
                <label >备品：</label>
                <input type="text" name="spareParts" required validType="lazzyNumber[1,6]" missingMessage="此处必须填写，没有可以填零" class="easyui-validatebox">
            </div>
            <div class="fitem">
                <label >需生产数：</label>
                <input type="text" name="planAmount" required validType="lazzyNumber[1,6]" missingMessage="此处必须填写" class="easyui-validatebox">
            </div>  
            <div class="fitem">
                <label >要求：</label>
                <input type="text" name="purchaseRequirement" class="easyui-validatebox">
            </div>
            <div class="fitem">
                <label >订单状态：</label>
                <input type="text" name="orderStatus" class="easyui-validatebox">
            </div>
            <div class="fitem">
                <label >异常原因：</label>
                <input type="text" name="exceptionReason" class="easyui-validatebox">
            </div>
            <div class="fitem">
                <label >订单类型：</label>
                <input type="text" name="orderType" required missingMessage="此处必须填写" class="easyui-validatebox">
            </div>
            <div class="fitem">
                <label >单价：</label>
                <input type="text" name="price" class="easyui-validatebox">
            </div>
            <div class="fitem">
                <label >备注：</label>
                <input type="text" name="remark" class="easyui-validatebox">
            </div>
            <div class="fitem hidden">
                <label >ID：</label>
                <input type="text" name="id" class="easyui-validatebox">
            </div>
        </form><!-- 表单结束 -->
        <div class="dlg-buttons" id="infoSubmit"><!-- 表单菜单按钮开始 -->
            <a href="javascript:;" iconCls="icon-ok" class="easyui-linkbutton">保存</a><a href="javascript:;" iconCls="icon-cancel" class="easyui-linkbutton">放弃编辑并关闭窗口</a>
        </div><!-- 表单菜单按钮结束 -->
    </div>
    <script src="../../common/easyUI/jquery.min.js"></script>
    <script src="../../common/js/fenixCommon.js"></script>
    <script src="../../common/js/jsDatePicker.js"></script>
    <!-- 由于doSearch方法会在jquery.easyui.min.js加载时立刻绑定，故先用js增加searcher再插入 -->
    <!-- <script src="../../common/easyUI/jquery.easyui.min.js"></script> -->
    <!-- <script src="../../common/js/fenixValidateByJQuery.js"></script> -->
    <script>
    // 此处定义全局变量是为了得到newTable.doSearch方法
    // 然后给searchBox的搜索按钮调用
    var newTable =$(function() {
                    var loadParameter = {               // 表格参数
                            url: "../../order/list.do", //url
                            toolbar: "#toolbar",
                            fit: true,  // 表格宽度自适应，不设置默认为false（对于长表格最好设置为true，否则使用体验很差）
                            //fitColumns: true, // 列宽度自适应，设置为true后设置的固定宽度不起作用
                            autoRowHeight: false,   // 设为true则基于该行内容设置行高度，同时降低加载
                            striped: true,  // 设为true则奇偶行使用不同背景色
                            nowrap: true,   // 设置为true，把数据显示在一行，可提高加载性能
                            loadMsg: "加载中、、、、", // 从远程加载数据时，显示的提示信息
                            pagination: false,  // 底部分页栏
                            rownumbers: true,   // 显示行号
                            remoteSort: false,  // 本地排序
                            multiSort: true,    // 允许多列排序

                            columns: [[
                                {field: "ck",checkbox: true},
                                {sortable: true, field: "orderNo", title: "订单号", width: 100,align: "center"},
                                {sortable: true, field: "productName", title: "产品名称", width: 80,align: "center"},
                                {sortable: true, field: "orderAmount", title: "订单数量", width: 50,align: "center"},
                                {sortable: true, field: "stockAmount", title: "库存", width: 40,align: "center"},
                                {sortable: true, field: "spareParts", title: "备品", width: 40,align: "center"},
                                {sortable: true, field: "planAmount", title: "需生产数", width: 60,fontsize: 20,align: "center"},
                                {sortable: true, field: "orderDate", title: "下单日期", width: 80,align: "center"},
                                {sortable: true, field: "requiredDate", title: "要求交货日期", width: 80,align: "center"},
                                {sortable: true, field: "replyDate", title: "交期", width: 180,align: "center"},
                                {sortable: true, field: "purchaseRequirement", title: "特别要求", width: 180,align: "center"},
                                {sortable: true, field: "materialCoding", title: "物料长代码", width: 100,align: "center"},                
                                {sortable: true, field: "materialModel", title: "规格型号", width: 50,width: 80,height: 30,align: "center"}, 
                                {sortable: true, field: "orderStatus", title: "生产状态", width: 50,align: "center"},
                                {sortable: true, field: "remark", title: "备注", width: 80,align: "center"},
                                {sortable: true, field: "exceptionReason", title: "异常原因", width: 80,align: "center"},
                                {sortable: true, field: "-----", title: "交货结果", width: 80,align: "center"},
                                {sortable: true, field: "orderType", title: "订单类型", width: 50,align: "center"},
                                {sortable: true, field: "price", title: "单价", width: 40,align: "center"},
                                {field: "id", title: "表id", width: 80,align: "center", hidden:true}
                            ]]
                        },                  
                        otherParameter = {              // url等
                            addUrl: "../../order/insert.do",
                            removeUrl: "../../order/deleteBatch.do",
                            editUrl: "../../order/update.do",
                            reLoadUrl: "../../order/list.do",
                            detailUrl: "details/detailTest.html"        
                        },
                        table;          // Table实例
                    newTable = new FENIX.Table(loadParameter, otherParameter, "newTable");
                    newTable.initalize();
                    return newTable;
                });
    </script>
</body>
</html>