<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>订单进度管理</title>
    <link  rel="stylesheet" href="../../common/easyUI/themes/default/easyui.css" />
    <link  rel="stylesheet" href="../../common/easyUI/demo/demo.css" />
    <link  rel="stylesheet" href="../../common/easyUI/themes/myIcon.css" />
    <link  rel="stylesheet" href="../../css/reset.css" >
    <link  rel="stylesheet" href="../../css/info-orderForm.css" >
    <script src="../../common/js/fenixCommon.js"></script>
    <script src="../../common/js/jsDatePicker.js"></script>
    <script src="../../common/easyUI/jquery.min.js"></script>
    <script src="../../common/easyUI/jquery.easyui.min.js"></script>
</head>

<body>
    <table id="datagrid" data-info="../../schedule/findAll.do"></table><!-- 数据表格占位 -->
    <div id="toolbar"><!-- 数据菜单栏 -->
        <a href="javascript:;" iconCls="icon-add" plain="true" onclick="FENIX.INFO.ORDER.addRow()" class="easyui-linkbutton">添加行</a>
        <a href="javascript:;" iconCls="icon-remove" plain="true" onclick="FENIX.INFO.ORDER.removeRows();" class="easyui-linkbutton">删除选中行</a>
        <a href="javascript:;" iconCls="icon-edit" plain="true" onclick="FENIX.INFO.ORDER.editRow()" class="easyui-linkbutton">修改行</a>
        <a href="javascript:;" iconCls="icon-reload" plain="true" onclick="FENIX.INFO.ORDER.reloadTable()" class="easyui-linkbutton">重新加载表格</a>
        <a href="javascript:;" iconCls="icon-more" plain="true" onclick="FENIX.INFO.ORDER.showDetails()" class="easyui-linkbutton">查看订单进度</a>
        <div id="searchBox">
            <input  class="easyui-searchbox" data-options="prompt:'请输入',menu:'#selectList',searcher:FENIX.INFO.ORDER.doSearch">
            <div id="selectList">
                <div data-options="name:'orderNo'">订单号</div>
                <div data-options="name:'productName'">产品名称</div>
            </div>
        </div>
    </div>
    <div id="dlg" class="easyui-dialog lazy-orderInfo" closed="true" buttons="#dlg-buttons"><!-- 新增数据窗口开始 -->
        <div class="ftitle" id="ftitle"></div>
        <form id="fm" method="post"><!-- 表单开始 -->
            <div class="fitem">
                <label >订单号：</label>
                <input name="orderNo" required validType="lazzyOrderNo" missingMessage="此处必须填写" class="easyui-validatebox">
            </div>
            <div class="fitem">
                <label >产品名称：</label>
                <input name="productName" required missingMessage="此处必须填写" class="easyui-validatebox lazy-datePicker">
            </div>
                <div class="fitem">
                <label >订单接收时间：</label>
                <input type="text" name="reciverOrder" required validType="lazzyMaterialCoding" missingMessage="此处必须填写" class="easyui-validatebox">
            </div>
            <div class="fitem">
                <label >计划生产开始时间：</label>
                <input type="text" name="planPrductTime" required missingMessage="此处必须填写" class="easyui-validatebox">
            </div>
            <div class="fitem">
                <label >计划生产完成时间：</label>
                <input name="planProductFinish" required validType="lazzyNumber[1,6]" missingMessage="此处必须填写" class="easyui-validatebox" >
            </div>
            <div class="fitem">
                <label >生产完成状态：</label>
                <input name="productFinishStatus" required validType="lazzyNumber[1,6]" missingMessage="此处必须填写，没有可以填零" class="easyui-validatebox">
            </div>
            <div class="fitem">
                <label >订单计划完成时间：</label>
                <input type="text" name="planOrderFinish" required validType="lazzyNumber[1,6]" missingMessage="此处必须填写，没有可以填零" class="easyui-validatebox">
            </div>
            <div class="fitem">
                <label >订单完成状态：</label>
                <input type="text" name="orderFinishStatus" required validType="lazzyNumber[1,6]" missingMessage="此处必须填写" class="easyui-validatebox">
            </div>
        </form><!-- 表单结束 -->
        <div class="dlg-buttons" id="infoSubmit"><!-- 表单菜单按钮开始 -->
            <a href="../../schedule/insert.do" iconCls="icon-ok" onclick="FENIX.INFO.ORDER.save();return false;" class="easyui-linkbutton">保存</a><a href="javascript:;" iconCls="icon-cancel" onclick="javascript:$('#dlg').dialog('close')" class="easyui-linkbutton">放弃编辑并关闭窗口</a>
        </div><!-- 表单菜单按钮结束 -->
    </div>
    <script>
        $("#datagrid").datagrid({
            url:$("#datagrid").attr("data-info"),//将url存放在data属性中
            toolbar: "#toolbar",
            fit: true,//表格宽度自适应，不设置默认为false（对于长表格最好设置为true，否则使用体验很差）
            //fitColumns: true,//列宽度自适应，设置为true后设置的固定宽度不起作用
            autoRowHeight: false,//设为true则基于该行内容设置行高度，同时降低加载
            striped: true,//设为true则奇偶行使用不同背景色
            nowrap: true,//设置为true，把数据显示在一行，可提高加载性能
            loadMsg: "加载中、、、、",//从远程加载数据时，显示的提示信息
            pagination: false,//底部分页栏
            rownumbers: true,//显示行号
            columns: [[
                {field: "ck",checkbox: true},
                {field: "orderNo",title: "订单号",width: 80,align: "center"},
                {field: "productName",title: "产品名称",width: 80,align: "center"},
                {field: "batch",title: "批次",width: 80,align: "center"},
                {field: "reciverOrder",title: "接收订单",width: 100,align: "center"},
                {field: "planPrductTime",title: "开始生产",width: 50,width: 80,height: 30,align: "center"}, 
                {field: "productStatus",title: "是否开始生产",width: 50,align: "center"},
                {field: "planProductFinish",title: "生产完成",width: 40,align: "center"},
                {field: "productFinishStatus",title: "是否生产完成",width: 40,align: "center"},
                {field: "planOrderFinish",title: "订单完成",width: 60,fontsize: 20,align: "center"},
                {field: "orderFinishStatus",title: "订单是否完成",width: 180,align: "center"}
            ]],
            loadFilter:function(data) {
                var i;
                for (i = 0; i < data.rows.length; i +=1) {
                    // if (data.rows[i].exceptionReason) {
                        data.rows[i].exceptionReason = 23333;
                    // }
                }
                return data;
            }
        });
        addDatePicker();
    </script>   
    <script src="../../js/orderInformation - 副本.js"></script>
</body>
</html>